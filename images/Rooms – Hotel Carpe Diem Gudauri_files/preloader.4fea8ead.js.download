(function(u){function y(){for(var a=0;a<g.length;a++)g[a][0](g[a][1]);g=[];m=!1}function n(a,b){g.push([a,b]);m||(m=!0,z(y,0))}function A(a,b){function c(a){p(b,a)}function h(a){k(b,a)}try{a(c,h)}catch(d){h(d)}}function q(a){var b=a.owner,c=b.state_,b=b.data_,h=a[c];a=a.then;if("function"===typeof h){c=l;try{b=h(b)}catch(d){k(a,d)}}v(a,b)||(c===l&&p(a,b),c===r&&k(a,b))}function v(a,b){var c;try{if(a===b)throw new TypeError("A promises callback cannot return that same promise.");if(b&&("function"===
typeof b||"object"===typeof b)){var h=b.then;if("function"===typeof h)return h.call(b,function(d){c||(c=!0,b!==d?p(a,d):w(a,d))},function(b){c||(c=!0,k(a,b))}),!0}}catch(d){return c||k(a,d),!0}return!1}function p(a,b){a!==b&&v(a,b)||w(a,b)}function w(a,b){a.state_===s&&(a.state_=x,a.data_=b,n(B,a))}function k(a,b){a.state_===s&&(a.state_=x,a.data_=b,n(C,a))}function B(a){a.state_=l;a.then_=a.then_.forEach(q)}function C(a){a.state_=r;a.then_=a.then_.forEach(q)}function e(a){if("function"!==typeof a)throw new TypeError("Promise constructor takes a function argument");
if(!1===this instanceof e)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[];A(a,this)}var f=u.Promise,t=f&&"resolve"in f&&"reject"in f&&"all"in f&&"race"in f&&function(){var a;new f(function(b){a=b});return"function"===typeof a}();"undefined"!==typeof exports&&exports?exports.Promise=t?f:e:"function"==typeof define&&define.amd?define(function(){return t?f:e}):t||(u.Promise=e);var s="pending",x=
"sealed",l="fulfilled",r="rejected",D=function(){},z="undefined"!==typeof setImmediate?setImmediate:setTimeout,g=[],m;e.prototype={constructor:e,state_:s,then_:null,data_:void 0,then:function(a,b){var c={owner:this,then:new this.constructor(D),fulfilled:a,rejected:b};this.state_===l||this.state_===r?n(q,c):this.then_.push(c);return c.then},"catch":function(a){return this.then(null,a)}};e.all=function(a){if(!Array.isArray(a))throw new TypeError("You must pass an array to Promise.all().");return new this(function(b,
c){function h(a){e++;return function(c){d[a]=c;--e||b(d)}}for(var d=[],e=0,f=0,g;f<a.length;f++)(g=a[f])&&"function"===typeof g.then?g.then(h(f),c):d[f]=g;e||b(d)})};e.race=function(a){if(!Array.isArray(a))throw new TypeError("You must pass an array to Promise.race().");return new this(function(b,c){for(var e=0,d;e<a.length;e++)(d=a[e])&&"function"===typeof d.then?d.then(b,c):b(d)})};e.resolve=function(a){return a&&"object"===typeof a&&a.constructor===this?a:new this(function(b){b(a)})};e.reject=
function(a){return new this(function(b,c){c(a)})}})("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
;
!function(e){!function(e){function r(){}r.fromRequest=function(e){var t,o={};for(t in e)o[t]=e[t];return o.criterions=e.criterions.map(function(e){return r.fromCriterion(e)}),o},r.fromCriterion=function(e){var t,o,r=!1,a=(e.guests&&e.guests.forEach(function(e){!r&&e.rate_plan_code&&(r=!0)}),""),a=(r&&e.guests?a=e.guests.reduce(function(e,t){return e+(t.hasOwnProperty("age")?"":(e?";":"")+t.count)},""):e.guests&&(a=e.guests.reduce(function(e,t){return e+(t.hasOwnProperty("age")?0:t.count)},0).toString()),{hotels:e.hotels,dates:e.start_date+";"+e.end_date,adults:a.toString(),children:e.guests?e.guests.reduce(function(e,t){return e+(t.hasOwnProperty("age")?(e?";":"")+t.age:"")},""):"",promo_code:e.promo_code,min_room_type_availability:e.min_room_type_availability});return e.room_type_code&&(a.room_type_code=e.room_type_code),e.guests&&e.guests.length&&(t=[],o=[],e.guests.forEach(function(e){e.rate_plan_code&&(e.hasOwnProperty("age")?o:t).push(e.rate_plan_code)}),a.guest_rate_plans=t.length||o.length?t.concat(o).join(";"):""),a.adults||delete a.adults,a.guest_rate_plans||delete a.guest_rate_plans,a.children.length||delete a.children,e.hasOwnProperty("promo_code")||delete a.promo_code,e.hasOwnProperty("min_room_type_availability")&&1!=e.min_room_type_availability||delete a.min_room_type_availability,a},e.HotelAvailabilitySurrogatedHelper=r}(e.api||(e.api={}))}(tl=tl||{}),function(e){(e.api||(e.api={})).DefaultAgeGroupCode="default"}(tl=tl||{}),function(e){(e=(e=e.api||(e.api={})).LoyaltyCardResultStatus||(e.LoyaltyCardResultStatus={}))[e.CardFound=0]="CardFound",e[e.CardNotFound=1]="CardNotFound",e[e.CardHasBeenLinkedSuccessfully=2]="CardHasBeenLinkedSuccessfully",e[e.CardHasBeenAlreadyLinked=3]="CardHasBeenAlreadyLinked",e[e.LinkingCardFailed=4]="LinkingCardFailed",e[e.IntegrationNotFound=5]="IntegrationNotFound"}(tl=tl||{}),function(e){function n(){}n.serialize=function(o,r){return void 0===r&&(r=""),Array.isArray(o)?o.map(function(e,t){return n.serialize(e,r+"["+t+"]")}).join("&"):null!==o&&"object"==typeof o?(a=[],Object.keys(o).forEach(function(e){var t=""==r?e:r+"."+e,e=n.serialize(o[e],t);e&&a.push(e)}),a.join("&")):r+"="+encodeURIComponent(o);var a},n.expandUrlWithQueryParams=function(e,t,o){void 0===o&&(o="&");var r=-1<e.indexOf("?")?"&":"?";return[e,Object.keys(t).map(function(e){return[encodeURIComponent(e),encodeURIComponent(t[e])].join("=")}).join(o)].join(r)},n.extractDomain=function(e){e=/((https?:)?\/\/)?([^\/]+)\/?.*/.exec(e);return e?e[3]:""},e.UrlUtil=n}(tl=tl||{}),function(e){var t;function o(){}function r(){}function a(){}function n(){}function i(){}function s(){}function l(){}function u(){}function c(){}function d(){}function m(){}function p(){}function f(){}function g(){}function x(){}function y(){}function h(){}function v(){}function O(){}function L(){}function G(){}function K(){}function U(){}function _(){}function P(){}function S(){}function H(){}function C(){}function W(){}function A(){}function k(){}function b(){}function V(){}function T(){}function D(){}function B(){}function R(){}function w(){}function Y(){}function E(){}function I(){}function M(){}function q(){}function j(){}function z(){}function Q(){}function X(){}function J(){}function $(){}function Z(){}function F(){}function ee(){}function te(){}function oe(){}function re(){}function ae(){}function ne(){}function ie(){}function N(){}function se(){}function le(){}function ue(){}function ce(){}function de(){}o.convert=function(e){return{unconfirmed:o.Unconfirmed,confirmed:o.Confirmed,cancelled:o.Cancelled,released:o.Released,pending:o.Pending,edited:o.Edited}[e]},o.Unconfirmed="unconfirmed",o.Confirmed="confirmed",o.Cancelled="cancelled",o.Released="released",o.Pending="pending",o.Edited="edited",e.HotelBookingStatus=o,r.convert=function(e){return{customer:r.Customer,payment:r.Payment,unknown:r.Unknown}[e]},r.Customer="customer",r.Payment="payment",r.Unknown="unknown",e.CancellationSubject=r,a.convert=function(e){return{"shared-accommodation-rate-plan":a.SharedAccommodationRatePlan,"shared-room-view":a.SharedRoomView,"rooms-filter-view":a.RoomsFilterView,"calculate-adults-separately-from-children":a.CalculateAdultsSeparatelyFromChildren,"rooms-grid-view":a.RoomsGridView,"rooms-search-criteria-view":a.RoomsSearchCriteriaView,"guest-rooms":a.GuestRoomBookingForm,"certificate-sale-view":a.CertificateBookingForm,"services-view":a.ServicesBookingForm,"services-with-period":a.ServicesWithPeriod,"camp-view":a.CampBookingForm}[e]},a.SharedAccommodationRatePlan="shared-accommodation-rate-plan",a.SharedRoomView="shared-room-view",a.CalculateAdultsSeparatelyFromChildren="calculate-adults-separately-from-children",a.RoomsFilterView="rooms-filter-view",a.RoomsGridView="rooms-grid-view",a.RoomsSearchCriteriaView="rooms-search-criteria-view",a.GuestRoomBookingForm="guest-rooms",a.CertificateBookingForm="certificate-sale-view",a.ServicesBookingForm="services-view",a.ServicesWithPeriod="services-with-period",a.CampBookingForm="camp-view",e.BookingFormMode=a,n.convert=function(e){return{manual:n.Manual,auto:n.Auto}[e]},n.Manual="manual",n.Auto="auto",e.AccommodationMode=n,i.convert=function(e){return{adult:i.Adult,child:i.Child}[e]},i.Adult="adult",i.Child="child",e.AgeQualifyingCode=i,s.convert=function(e){return{default:s.Default,"sberbank-promo-input":s.SberbankPromoInput,"continue-without-services":s.ContinueWithoutServices,"wish-list":s.WishList,"booking-modification":s.BookingModification,"show-guest-account-link":s.ShowGuestAccountLink,"force-new-experiment-segment":s.ForceNewExperimentSegment,"show-unavailable-payment-system-error":s.ShowUnavailablePaymentSystemError,"services-view-mode":s.ServicesViewMode,"multi-price-services":s.MultiPriceServices,"new-socials-survey":s.NewSocialsSurvey}[e]},s.Default="default",s.SberbankPromoInput="sberbank-promo-input",s.ContinueWithoutServices="continue-without-services",s.WishList="wish-list",s.BookingModification="booking-modification",s.ShowGuestAccountLink="show-guest-account-link",s.ForceNewExperimentSegment="force-new-experiment-segment",s.ShowUnavailablePaymentSystemError="show-unavailable-payment-system-error",s.ServicesViewMode="services-view-mode",s.MultiPriceServices="multi-price-services",s.NewSocialsSurvey="new-socials-survey",e.Experiment=s,l.convert=function(e){return{default:l.Default,"mir-cashback-demo":l.MirCashbackDemo,"mir-cashback":l.MirCashback,mir:l.MirCashback}[e]},l.Default="default",l.MirCashback="mir-cashback",l.MirCashbackDemo="mir-cashback-demo",e.PromoOffer=l,u.convert=function(e){return{early_arrival:u.EarlyArrival,late_departure:u.LateDeparture}[e]},u.EarlyArrival="early_arrival",u.LateDeparture="late_departure",e.ExtraStayType=u,c.convert=function(e){return{fax:c.Fax,mobile:c.Mobile}[e]||c.Default},c.Default="",c.Fax="fax",c.Mobile="mobile",e.PhoneType=c,d.convert=function(e){return{per_reservation:d.PerBooking,per_person:d.PerPerson,per_stay:d.PerStay,per_room_per_night:d.PerNight,per_person_per_night:d.PerPersonPerNight,per_occupancy_per_night:d.PerOccupancyPerNight,per_unit:d.PerUse}[e]},d.PerBooking="per_reservation",d.PerPerson="per_person",d.PerStay="per_stay",d.PerNight="per_room_per_night",d.PerPersonPerNight="per_person_per_night",d.PerOccupancyPerNight="per_occupancy_per_night",d.PerUse="per_unit",e.ChargeType=d,m.convert=function(e){return{all_guests:m.AllGuests,depends_on_age:m.DependsOnAge,depends_on_accommodation:m.DependsOnAccommodation}[e]},m.AllGuests="all_guests",m.DependsOnAge="depends_on_age",m.DependsOnAccommodation="depends_on_accommodation",e.OptionApplicabilityType=m,p.convert=function(e){return{adult:p.Adult,extra_adult:p.ExtraAdult,child:p.Child,extra_child:p.ExtraChild,child_band_without_bed:p.ChildBandWithoutBed,room_type:p.RoomType}[e]},p.Adult="adult",p.ExtraAdult="extra_adult",p.Child="child",p.ExtraChild="extra_child",p.ChildBandWithoutBed="child_band_without_bed",p.RoomType="room_type",e.GuestPlacementKind=p,f.convert=function(e){return{english_breakfast:f.EnglishBreakfast,continental_breakfast:f.ContinentalBreakfast,buffet_breakfast:f.BuffetBreakfast,breakfast:f.Breakfast,half_board:f.HalfBoard,full_board:f.FullBoard,lunch:f.Lunch,dinner:f.Dinner,all_inclusive:f.AllInclusive,ultra_all_inclusive:f.UltraAllInclusive}[e]},f.EnglishBreakfast="english_breakfast",f.ContinentalBreakfast="continental_breakfast",f.BuffetBreakfast="buffet_breakfast",f.Breakfast="breakfast",f.HalfBoard="half_board",f.FullBoard="full_board",f.Lunch="lunch",f.Dinner="dinner",f.AllInclusive="all_inclusive",f.UltraAllInclusive="ultra_all_inclusive",e.MealPlanType=f,g.PayPal="PAYPAL",g.YandexMoneyBankCard="YANDEXMONEY_BANKCARD",g.YandexMoneyWallet="YANDEXMONEY_WALLET",g.YandexKasssaInstallments="YANDEXKASSA_INSTALLMENTS",g.PayMasterElectronic="PAYMASTER_ELECTRONIC",g.IndividualCashless="INDIVIDUAL_CASHLESS",g.ManualIndividualCashless="MANUAL_INDIVIDUAL_CASHLESS",g.AtArrival="AT_ARRIVAL",g.LiqpayWallet="LIQPAY_WALLET",g.LiqpayOffline="LIQPAY_OFFLINE",g.Chronopay="CHRONOPAY",g.PayU="PAYU",g.WebPay="WEBPAY",g.RSB="RSB",g.UcsOnline="UCS_ONLINE",g.PayOnlineBankCard="PAYONLINE_BANK_CARD",g.SberbankOnline="SBERBANK_ONLINE",g.TLPayments="TLPAYMENTS",g.TLPaymentsPrepay="TLPAYMENTS_PREPAY",g.TLPaymentsNoPrepay="TLPAYMENTS_NOPREPAY",g.AtOffice="AT_OFFICE",g.TravelAgencyTLPayments="TA_TLPAYMENTS",g.BelAssist="BELASSIST",g.ReservMaster="RESERVMASTER",g.QIWI="QIWI",g.RussiaBank="RUSSIABANK",g.StripeBankcard="STRIPE_BANKCARD",g.ProcessingKz="PROCESSINGKZ",g.Webteh="WEBTEH",g.Vellaris="VELLARIS",g.BePaid="BEPAID",g.UnitellerBankCard="UNITELLER_BANKCARD",g.Payler="PAYLER",g.PayMasterBankCard="PAYMASTER_BANKCARD",g.AlphaBankRbs="ALPHA_BANK_RBS",g.FUIB="FUIB",g.ApplePay="APPLE_PAY",g.GooglePay="GOOGLE_PAY",g.SamsungPay="SAMSUNG_PAY",g.Moneywall="MONEYWALL",g.MonetaSbp="MONETA_SBP",e.PaymentSystemCode=g,x.Euroset="euroset",x.Contact="contact",x.Svyaznoy="svyaznoy",e.PaymentSystemInternalCode=x,y.convert=function(e){return{cash:y.Cash,guarantee:y.Guarantee,pre_pay:y.Prepay,guarantee_noprepay:y.GuaranteeNoprepay,credit_card:y.CreditCard,payment_service:y.PaymentService,money_order:y.MoneyOrder,direct_bill:y.DirectBill,credit_payment:y.Credit,sbp:y.SBP,unknown:y.Unknown}[e]},y.Cash="cash",y.Guarantee="guarantee",y.Prepay="pre_pay",y.GuaranteeNoprepay="guarantee_noprepay",y.CreditCard="credit_card",y.PaymentService="payment_service",y.MoneyOrder="money_order",y.DirectBill="direct_bill",y.Credit="credit_payment",y.SBP="sbp",y.Unknown="unknown",e.PaymentSystemType=y,h.convert=function(e){return{booking:h.Booking,"change-card":h.ChangeCard,"deferred-payment":h.DeferredPayment}[e]},h.Booking="booking",h.ChangeCard="change-card",h.DeferredPayment="deferred-payment",e.PaymentType=h,v.convert=function(e){return{accepted:v.Accepted,failed:v.Failed,pending:v.Pending}[e]},v.Accepted="accepted",v.Failed="failed",v.Pending="pending",e.PaymentGuaranteeStatus=v,O.Service="service",O.MealPlan="meal-plan",e.OptionType=O,L.PrivacyPolicy="policy",L.UserAgreement="terms",e.PolicyPageType=L,G.Desktop="desktop",G.Phone="phone",e.Layout=G,K.WindowSizeChanged="size-changed",e.BroadcastEvent=K,U.XS="xs",U.SM="sm",U.MD="md",U.LG="lg",e.LayoutSizeCode=U,_.convert=function(e){return{bus_station:_.Bus,airport:_.Airport,railway_station:_.Railway,custom:_.Custom}[e]},_.Bus="bus_station",_.Airport="airport",_.Railway="railway_station",_.Custom="custom",e.TransferType=_,P.convert=function(e){return{tax:P.Tax,fee:P.Fee}[e]},P.Tax="tax",P.Fee="fee",e.TaxType=P,S.convert=function(e){return{from_hotel:S.FromHotel,to_hotel:S.ToHotel}[e]},S.FromHotel="from_hotel",S.ToHotel="to_hotel",e.TransferDirection=S,H.convert=function(e){return{promo:H.PromotionalCode}[e]},H.PromotionalCode="promo",e.RoomStayRestrictionKind=H,C.TransportError="0",C.BookingTemporarilyUnavailable="92",C.BookingStatusInvalid="118",C.EndDateIsInvalid="135",C.StartDateIsInvalid="136",C.CreditCardHasExpired="240",C.CreditCardNumberIsInvalidOrMissing="242",C.DepartureDateIsNotAvailable="293",C.ArrivalDateIsNotAvailable="294",C.NoAvailability="322",C.Retry="366",C.RateNotExists="394",C.InvalidRoomType="402",C.NoMatchFound="425",C.RateUnavailable="437",C.RatePromoCodeRestricted="438",C.Reenter="439",C.UnableToProcess="450",C.InvalidPromoCode="536",C.RoomNotExists="730",C.RateDeactivated="733",C.NonExistentServiceType="850",C.NonExistentServiceId="851",C.InternalServerError="1000",C.CaptchaChallenge="30001",e.ServiceErrorCode=C,W.InvalidPromoCode="536",e.ServiceWarningCode=W,A.convert=function(e){return{male:A.Male,female:A.Female}[e]},A.convertFromGuestProfile=function(e){return 0==e?null:{1:A.Female,2:A.Male}[e]},A.Male="male",A.Female="female",e.GuestInfoSex=A,k.convert=function(e){return{trivago:k.Trivago,google_hotel_ads:k.GoogleHotelAds}[e]},k.Trivago="trivago",k.GoogleHotelAds="google_hotel_ads",e.MetaSearchKind=k,b.convert=function(e){return{square_metre:b.SquareMetre,square_foot:b.SquareFoot}[e]},b.SquareMetre="square_metre",b.SquareFoot="square_foot",e.LengthUnitKind=b,V.convert=function(e){return{day:V.Day,night:V.Night}[e]},V.Day="day",V.Night="night",e.StayUnitKind=V,T.convert=function(e){return{room:T.Room,place_in_room:T.PlaceInRoom,cottage:T.Cottage,apartment:T.Apartment,service:T.Service,guest_room:T.GuestRoom,camp:T.Camp,studio:T.Studio,flat:T.Flat,house:T.House,villa:T.Villa}[e]},T.Room="room",T.PlaceInRoom="place_in_room",T.Cottage="cottage",T.Apartment="apartment",T.Service="service",T.GuestRoom="guest_room",T.Camp="camp",T.Studio="studio",T.Flat="flat",T.House="house",T.Villa="villa",e.RoomTypeUnitKind=T,D.convert=function(e){return{tax:D.Tax,fee:D.Fee,tax_fee:D.TaxAndFee}[e]},D.Tax="tax",D.Fee="fee",D.TaxAndFee="tax_fee",e.TaxUnitKind=D,B.convert=function(e){return{hotel:B.Hotel,hotel_alt:B.HotelAlt,hostel:B.Hostel,apartment:B.Apartment,sanatorium:B.Sanatorium,camp:B.Camp,glamping:B.Glamping}[e]},B.Hotel="hotel",B.HotelAlt="hotel_alt",B.Hostel="hostel",B.Apartment="apartment",B.Sanatorium="sanatorium",B.Camp="camp",B.Glamping="glamping",e.ProviderTypeUnitKind=B,R.create=function(e){return null!=(e={1:R.First,2:R.Second}[e])?e:R.Generic},R.First="first",R.Second="second",R.Generic="generic",e.OrdinalNumberUnitKind=R,w.convert=function(e){return{stay_dates:w.StayDates,promotion_code:w.PromotionCode,tourist:w.Tourist,registration:w.Registration,loyalty:w.Loyalty}[e]},w.StayDates="stay_dates",w.PromotionCode="promotion_code",w.Tourist="tourist",w.Registration="registration",w.Loyalty="loyalty",e.DiscountType=w,Y.convert=function(e){return{partial:Y.Partial,full:Y.Full}[e]},Y.Partial="partial",Y.Full="full",e.DiscountApplicabilityType=Y,E.convert=function(e){return{"change-full-prepayment-option-name-to-mir-cashback":E.ChangeFullPrepaymentOptionNameToMirCashback,"hide-room-capacity":E.HideRoomCapacity,"hide-banner-mir":E.HideBannerMir,"prevent-override-mir-payment-system-sort-order":E.PreventOverrideMirPaymentSystemSortOrder,"hide-guest-info-filling":E.HideGuestInfoFilling,"require-middle-name":E.RequireMiddleName}[e]},E.ChangeFullPrepaymentOptionNameToMirCashback="change-full-prepayment-option-name-to-mir-cashback",E.HideRoomCapacity="hide-room-capacity",E.HideBannerMir="hide-banner-mir",E.PreventOverrideMirPaymentSystemSortOrder="prevent-override-mir-payment-system-sort-order",E.HideGuestInfoFilling="hide-guest-info-filling",E.RequireMiddleName="require-middle-name",e.Feature=E,I.convert=function(e){return{stock:I.Stock,sales_leader:I.SalesLeader,hurry_up_booking:I.HurryUpBooking,family:I.Family,friends:I.Friends}[e]},I.Stock="stock",I.SalesLeader="sales_leader",I.HurryUpBooking="hurry_up_booking",I.Family="family",I.Friends="friends",e.OptionMotivator=I,M.Custom="custom",M.CancellationTravel="cancellation_travel",M.ChangeHotel="change_hotel",M.AmmendmentArrivalDate="ammendment_arrival_date",M.ChangeRoomType="change_room_type",M.ChangePaymentMethod="change_payment_method",e.CancellationReasonCode=M,q.Cancellation="cancellation",q.EditBooking="edit",q.PayBooking="pay",e.AuthRole=q,j.Common="common",j.Meal="meal",e.ServiceKind=j,z.Am="am",z.Pm="pm",e.TimePeriodKind=z,Q.TimePeriod12="12",Q.TimePeriod24="24",e.TimePeriodFormat=Q,X.Common="common",X.Reverse="reverse",e.AddressFormatKind=X,J.LFM="lfm",J.FML="fml",e.PersonalNameFormatKind=J,$.Enabled="enabled",$.Disabled="disabled",$.Muted="muted",$.Forbidden="forbidden",e.CalendarDateDisabledKind=$,Z.Rooms="rooms",Z.Filter="filter",e.RoomsViewMode=Z,F.Page="page",F.Click="click",F.View="view",F.SessionStart="session_start",F.SessionEnd="session_end",F.SearchCriteriaStartDate="search_criteria_start_date",F.SearchCriteriaEndDate="search_criteria_end_date",F.BookingNumber="booking_number",F.BookingStatus="booking_status",e.ArtifactKind=F,ee.Default="default",ee.RoomsGrid="rooms-grid",e.PreloaderViewMode=ee,te.Integration="guest-profile-integration",te.DiscountBanner="guest-profile-discount-banner",e.GuestProfileEventSource=te,oe.getSegments=function(){return[oe.Enabled,oe.Disabled]},oe.Enabled="enabled",oe.Disabled="disabled",e.ContinueWithoutServicesExperiment=oe,re.getSegments=function(){return[re.Old,re.New]},re.Old="old",re.New="new",e.ServicesViewModeExperiment=re,ae.OverQuota="over_quota",ae.Currency="currency",ae.AvailabilityBlock="availability_block",ae.PaymentSystem="payment_system",ae.WithChildrenOnly="with_children_only",e.uiRestriction=ae,ne.ServicesBookingForm="service",ne.GuestRoomBookingForm="guest-room",ne.CertificateBookingForm="certificate",ne.CampBookingForm="camp",ne.Default="default",e.TranslationMode=ne,ie.Vk="vk",ie.Facebook="facebook",ie.Google="google",ie.Tl="tl",e.AuthServiceKind=ie,N.TokenPrefix="gp-token-",N.CrmCampaignKeyPrefix="gp-crm-campaign-key-",N.AuthCode="gp-auth-code",N.AuthService="gp-auth-service",N.ExpiresAt="gp-expires-at",N.AuthFlowKind="gp-auth-flow-kind",e.GuestProfileParam=N,se.NotStarted="not-started",se.Running="running",se.Over="over",e.MirShowPeriod=se,le.WebPms="BS-WEB_PMS",le.Extranet="BS-EXTRANET_BF",e.BookingSourceCode=le,ue.MealPlan="meal_plan",ue.FreeCancellation="free_cancellation",ue.Payment="payment",ue.RoomOptions="room_options",e.FilterId=ue,ce.PaymentLink="payment-link",e.CopyToClipboardTarget=ce,de.SnackBar={activeColor:"--snackbar-color-active",backgroundColor:"--snackbar-background-color",shadow:"--snackbar-shadow",iconBorderColor:"--snackbar-icon-border-color"},e.ComponentTheme=de,(t=e.EventType||(e.EventType={})).Click="click",t.Hover="hover",t.Focus="focus",t.Blur="blur",t.Resize="resize",t.KeyUp="keyup",t.MouseEnter="mouseenter",t.MouseLeave="mouseleave",t.MouseDown="mousedown",t.MouseMove="mousemove",t.MouseUp="mouseup",t.MouseOver="mouseover",t.MouseOut="mouseout",t.PointerUp="pointerup",t.TouchStart="touchstart",t.TouchEnd="touchend",t.TouchMove="touchmove",t.BeforeUnload="beforeunload",(t=e.KeyCode||(e.KeyCode={}))[t.Enter=13]="Enter",t[t.Space=32]="Space",(t=e.ServiceActionType||(e.ServiceActionType={})).Button="button",t.Stepper="stepper",t.ButtonAfterStepper="button_after_stepper",(t=e.SurveyErrorType||(e.SurveyErrorType={})).SurveyNotFound="survey_not_found",t.SurveyAlreadyPassed="survey_already_passed",t.InvalidCredentials="invalid_credentials",t.Unknown="unknown"}(tl=tl||{}),function(e){function t(){}t.getCookieByName=function(e){e=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},e.CookieUtil=t}(tl=tl||{}),function(r){function a(){}a.getParam=function(t){try{return localStorage.getItem(t)}catch(e){return r.CookieUtil.getCookieByName(t)}},a.setParam=function(e,t){try{localStorage.setItem(e,t)}catch(e){}},a.removeParam=function(e){try{localStorage.removeItem(e)}catch(e){}},a.getGpToken=function(e){var t=a.getCrmCampaignKey(e);if(t)return a.getGpTokenByCrmCampaignKey(t,e)},a.setGpToken=function(e,t){e=a.getCrmCampaignKey(e);if(e)return a.setGpTokenByCrmCampaignKey(e,t)},a.removeGpToken=function(e){e=a.getCrmCampaignKey(e);e&&a.removeGpTokenByCrmCampaignKey(e)},a.setGpTokenByCrmCampaignKey=function(e,t){e=a.getGpTokenStorageKey(e);a.setParam(e,t)},a.removeGpTokenByCrmCampaignKey=function(e){e=a.getGpTokenStorageKey(e);a.removeParam(e)},a.getGpTokenByCrmCampaignKey=function(e,t){var e=a.getGpTokenStorageKey(e),o=a.getParam(e);if(o)return o;o=""+r.GuestProfileParam.TokenPrefix+t,t=a.getParam(o);return t&&(a.removeParam(o),a.setParam(e,t)),t||void 0},a.getGpTokenStorageKey=function(e){return""+r.GuestProfileParam.TokenPrefix+e},a.getCrmCampaignKey=function(e){e=a.getParam(""+r.GuestProfileParam.CrmCampaignKeyPrefix+e);return e||void 0},a.setCrmCampaignKey=function(e,t){a.setParam(""+r.GuestProfileParam.CrmCampaignKeyPrefix+e,t)},Object.defineProperty(a,"gpAuthCode",{get:function(){return a.getParam(r.GuestProfileParam.AuthCode)},enumerable:!0,configurable:!0}),Object.defineProperty(a,"authServiceKind",{get:function(){return a.getParam(r.GuestProfileParam.AuthService)},enumerable:!0,configurable:!0}),Object.defineProperty(a,"expiresAt",{get:function(){return a.getParam(r.GuestProfileParam.ExpiresAt)},enumerable:!0,configurable:!0}),a.isUserAuthenticated=function(e){return!!a.getGpToken(e)},a.isAuthCodeExpired=function(){return!!a.expiresAt&&a.hasExpirationDateArrived(new Date(a.expiresAt))},a.hasExpirationDateArrived=function(e){var t=(new Date).toISOString();return e.toISOString()<t},a.clearStorage=function(e){a.removeGpToken(e),a.clearConfirmationStageValues()},a.clearConfirmationStageValues=function(){a.removeParam(r.GuestProfileParam.AuthCode),a.removeParam(r.GuestProfileParam.AuthService),a.removeParam(r.GuestProfileParam.ExpiresAt),a.removeParam(r.GuestProfileParam.AuthFlowKind)},r.GuestProfileUtil=a}(tl=tl||{}),function(e){function t(){}t.CommonInfo="commonInfo",t.HotelInfo="hotelInfo",t.BookingFormSettings="bookingFormSettings",t.HotelAvailability="hotelAvailability",t.HotelOfferAvailability="hotelOfferAvailability",t.ResolvePromoCode="resolvePromoCode",t.IvisaAffiliate="ivisa",t.HotelReservation="hotelReservation",t.RoomTypeAvailability="roomTypeAvailability",t.BookingFormInfo="bookingFormInfo",t.HotelBookingRules="hotelBookingRules",t.RatePlanBookingRules="ratePlanBookingRules",t.NearestAvailableDates="nearestAvailableDates",t.PayOrderRequest="payOrderRequest",t.PayOrder="payOrder",t.CustomMessages="customMessages",t.WishListSettings="wishListSettings",t.WishListLegalDocuments="wishListLegalDocuments",t.YandexCreditSchedule="yandexCreditSchedule",t.BestPriceGuarantee="bestPriceGuarantee",e.ServiceCacheStorageKey=t}(tl=tl||{});var tl,preloaderApiException,preloaderApiData={},preloader=function(){var e=window.SERVICE_BASE_URL,t=e+"/ApiWebDistribution/BookingForm/hotel_info",o=e+"/ApiWebDistribution/BookingForm/common_info",r=e+"/ibe/BookingForm/booking_form_settings",a=e+"/ApiWebDistribution/BookingForm/hotel_offer_availability",n=e+"/ApiWebDistribution/BookingForm/hotel_availability",e=e+"/ibe/BookingForm/custom_messages",c=(i.apiDateFormat=function(e){return e.toISOString().split("T")[0]},i.fillPointOfSale=function(e,t){e.point_of_sale={},t.source&&(e.point_of_sale.source=t.source)},i);function i(){}l.setNextDayOfWeek=function(e,t){var t=l.WEEK_DAYS[t],o=e.getDay();void 0!==t&&t!==o&&e.setDate(e.getDate()+(t+(7-o))%7)},l.WEEK_DAYS={su:0,mo:1,tu:2,we:3,th:4,fr:5,sa:6};var s=l;function l(){}d.isSessionCacheEnabled=function(){try{var e=""+Math.random();return window.sessionStorage.setItem(d.sessionStorageTestKey,e),window.sessionStorage.getItem(d.sessionStorageTestKey)==e}catch(e){}return!1},d.toSessionStorageHashTtl=function(e){return e+";TTL"},d.existSessionCache=function(e){if(!d.isSessionCacheEnabled())return!1;e=d.toSessionStorageKey(e);var t=d.toSessionStorageHashTtl(e),t=Number(sessionStorage.getItem(t));return!!(sessionStorage.getItem(e)&&t&&t>(new Date).getTime())},d.toSessionStorageKey=function(e){return"TL;"+e},d.toPreloaderStorageKey=function(e,t){return e+";"+JSON.stringify(t)},d.sessionStorageTestKey="TL-Test";var u=d;function d(){}p.prototype.getLanguage=function(e){var t,o=e.language?e.language.toLowerCase():"",e=e.languageRegion?e.languageRegion.toLowerCase():"";return!e&&o&&0<=o.indexOf("-")&&(e=(t=o.split("-"))[1],o=t[0]),o&&e?o+"-"+e:o?p.languages[o]:this.fallbackLanguage},p.prototype.toParams=function(e){var t,o,r=e.split("&"),a=[];for(t in r)r.hasOwnProperty(t)&&(a[(o=r[t].split("="))[0]]=decodeURIComponent(o[1]));return a},p.languages={ru:"ru-ru",en:"en-us",fr:"fr-fr",de:"de-de",it:"it-it",es:"es-es",pl:"pl-pl",uk:"uk-ua",kk:"kk",cs:"cs-cz",zh:"zh-cn",ja:"ja-jp",ko:"ko-kr",lv:"lv-lv",bg:"bg-bg",fi:"fi-fi",sv:"sv-se",ka:"ka-ge",id:"id-id",et:"et-ee",ro:"ro-ro",sr:"sr-latn",hy:"hy-am",az:"az-latn",el:"el-gr",pt:"pt-pt",tr:"tr-tr",th:"th-th"};var m=p;function p(e){this.fallbackLanguage=p.languages.en;var e=e.substring(1),t=this.toParams(e),e=parseInt(e.split("&")[0])||"";e&&!isNaN(e)&&(this.providerId=e.toString()),t.date&&(e=Date.parse(t.date),0==isNaN(e)&&(this.startDate=new Date(e))),!this.startDate&&t.arrivalDateOffset&&(this.startDate=new Date,this.startDate.setDate(this.startDate.getDate()+parseInt(t.arrivalDateOffset))),!this.startDate&&t.arrivalDayOfWeek&&(this.startDate=new Date,s.setNextDayOfWeek(this.startDate,t.arrivalDayOfWeek)),t.nights&&parseInt(t.nights)&&this.startDate&&(this.endDate=new Date(this.startDate.valueOf()),this.endDate.setDate(this.endDate.getDate()+Math.max(parseInt(t.nights)||1,1))),this.adults=t.adults||"",this.childrenAge=t.childrenAge||"",this.language=this.getLanguage(t),this.currency=t.currency||"",this.source=t.bookingSource||"",this.providerId=t.providerId||this.providerId,this.promoCodePlain=t.promoCodePlain||"",this.bookingNumber=t.bookingNumber||"",this.paymentCode=t.paymentCode||"",this.cancellationCode=t.cancellationCode||"",this.confirmationCode=t.confirmationCode||"",this.isManualAccommodationMode=!(t.accommodationMode&&"auto"==t.accommodationMode),this.integrationUrl=t.inturl||""}g.doRequest=function(n,i){return new Promise(function(e,t){var o=new XMLHttpRequest,r=n.method||"GET",a=n.url+("GET"==r?"?"+tl.UrlUtil.serialize(i):"");o.open(r,a),o.onload=function(){200<=this.status&&this.status<300?e({data:JSON.parse(o.responseText),status:o.status,statusText:o.statusText}):t({status:this.status,statusText:o.statusText})},o.onerror=function(){t({status:this.status,statusText:o.statusText})},"POST"==r?(o.setRequestHeader("content-type","application/json;charset=UTF-8"),o.send(JSON.stringify(i))):o.send()})};var f=g;function g(){}h.build=function(e){return{language:e.language,include_countries:!0,hotel:{code:e.providerId}}};var y=h;function h(){}_.build=function(e){var t={language:e.language,hotels:[{code:e.providerId}]};return e.promoCodePlain&&(t.promo_code=e.promoCodePlain),c.fillPointOfSale(t,e),tl.GuestProfileUtil.isUserAuthenticated(e.providerId)&&(t.gp_token=tl.GuestProfileUtil.getGpToken(e.providerId)),t};var v=_;function _(){}S.build=function(e){return{include_payment_systems:!0,hotel:{code:e.providerId},integration_domain:tl.UrlUtil.extractDomain(e.integrationUrl)}};var P=S;function S(){}A.build=function(e){return{language:e.language,hotel:{code:e.providerId}}};var C=A;function A(){}b.build=function(e){var t={include_rates:!0,include_transfers:!0,include_promo_restricted:!0,language:e.language,criterions:[{ref:"1",start_date:c.apiDateFormat(e.startDate),end_date:c.apiDateFormat(e.endDate),hotels:[{code:e.providerId}]}],point_of_sale:{}};return e.currency&&(t.currency=e.currency),e.promoCodePlain&&(t.criterions[0].promo_code=e.promoCodePlain),c.fillPointOfSale(t,e),tl.GuestProfileUtil.isUserAuthenticated(e.providerId)&&(t.gp_token=tl.GuestProfileUtil.getGpToken(e.providerId)),t};var k=b;function b(){}D.build=function(e){var t={include_rates:!0,include_transfers:!0,include_all_placements:e.isManualAccommodationMode,include_promo_restricted:!0,language:e.language,criterions:[],point_of_sale:{}};if(e.currency&&(t.currency=e.currency),e.promoCodePlain&&(t.criterions[0].promo_code=e.promoCodePlain),e.isManualAccommodationMode)t.criterions.push(B.build(e,"0",0,[]));else for(var o=e.adults.split(","),r=e.childrenAge.split(","),a=0;a<o.length;a++){var n=parseInt(o[a]),i=[];if(r[a]&&r[a].length)for(var s=r[a].split(";"),l=0;l<s.length;l++){var u=s[l],u=parseInt(u);isNaN(u)||i.push(u)}t.criterions.push(B.build(e,a.toString(),n,i))}return c.fillPointOfSale(t,e),tl.GuestProfileUtil.isUserAuthenticated(e.providerId)&&(t.gp_token=tl.GuestProfileUtil.getGpToken(e.providerId)),t};var T=D;function D(){}R.build=function(e,t,o,r){var a=[];if(o&&a.push({count:o}),r&&r.length)for(var n=0;n<r.length;n++)a.push({age:r[n],count:1});return{ref:t,min_room_type_availability:1,start_date:c.apiDateFormat(e.startDate),end_date:c.apiDateFormat(e.endDate),hotels:[{code:e.providerId}],guests:a}};var B=R;function R(){}var w,E,I,M,F,N,m=new m(window.location.search);m.providerId&&(v=v.build(m),w=u.toPreloaderStorageKey(tl.ServiceCacheStorageKey.HotelInfo,v),u.existSessionCache(w)||(preloaderApiData[w]=f.doRequest({url:t},v).catch(function(e){return delete preloaderApiData[w],Promise.reject(e)})),m.bookingNumber||m.cancellationCode||m.confirmationCode||m.paymentCode||(t=y.build(m),E=u.toPreloaderStorageKey(tl.ServiceCacheStorageKey.CommonInfo,t),u.existSessionCache(E)||(preloaderApiData[E]=f.doRequest({url:o},t).catch(function(e){return delete preloaderApiData[E],Promise.reject(e)}))),m.startDate&&m.endDate&&!m.accessCode&&(m.isManualAccommodationMode&&(v=k.build(m),I=u.toPreloaderStorageKey(tl.ServiceCacheStorageKey.HotelOfferAvailability,v),u.existSessionCache(I)||(preloaderApiData[I]=f.doRequest({url:a},tl.api.HotelAvailabilitySurrogatedHelper.fromRequest(v)).catch(function(e){return delete preloaderApiData[I],Promise.reject(e)}))),(m.isManualAccommodationMode||!m.isManualAccommodationMode&&m.adults.length)&&(y=T.build(m),M=u.toPreloaderStorageKey(tl.ServiceCacheStorageKey.HotelAvailability,y),u.existSessionCache(M)||(preloaderApiData[M]=f.doRequest({url:n},tl.api.HotelAvailabilitySurrogatedHelper.fromRequest(y)).catch(function(e){return delete preloaderApiData[M],Promise.reject(e)})))),o=P.build(m),F=u.toPreloaderStorageKey(tl.ServiceCacheStorageKey.BookingFormSettings,o),u.existSessionCache(F)||(preloaderApiData[F]=f.doRequest({url:r},o).catch(function(e){return delete preloaderApiData[F],Promise.reject(e)})),t=C.build(m),N=u.toPreloaderStorageKey(tl.ServiceCacheStorageKey.CustomMessages,t),u.existSessionCache(N)||(preloaderApiData[N]=f.doRequest({url:e},t).catch(function(e){return delete preloaderApiData[N],Promise.reject(e)})))};try{var prop,splitted,params=window.location.search.split("&"),keyValueParams=[];for(prop in params)params.hasOwnProperty(prop)&&(keyValueParams[(splitted=params[prop].split("="))[0]]=decodeURIComponent(splitted[1])||"");var isStaticPage=keyValueParams.path&&(0==keyValueParams.path.indexOf("#/s/")||0==keyValueParams.path.indexOf("/s/"));isStaticPage||preloader()}catch(e){preloaderApiException=e.message}